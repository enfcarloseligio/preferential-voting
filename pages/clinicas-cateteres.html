<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Mapa nacional de tasas de enfermeras con localizaci√≥n de cl√≠nicas de cat√©ter en M√©xico 2025." />
  <meta name="author" content="Secretar√≠a de Salud - DGCES - Direcci√≥n de Enfermer√≠a" />
  <meta name="keywords" content="enfermer√≠a, SIARHE, cl√≠nicas de cat√©ter, M√©xico, mapa, 2025" />
  <title>SIARHE | Cl√≠nicas de Cat√©ter y Tasas de Enfermeras</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="../styles/mapas.css" />

  <!-- Librer√≠as necesarias -->
  <script src="https://d3js.org/d3.v7.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" defer></script>

  <!-- Layout general -->
  <script src="../scripts/inyectar-layout.js" defer></script>

  <!-- L√≥gica del mapa de cl√≠nicas -->
  <script type="module" src="../scripts/maps/clinicas-cateteres.js"></script>
</head>

<body>
  <main>
    <!-- Migas de pan -->
    <nav aria-label="breadcrumb" class="migas">
      <a href="../index.html">Inicio</a> &gt;
      <span>Cl√≠nicas de cat√©ter</span>
    </nav>

    <!-- SECCI√ìN DEL MAPA DE CL√çNICAS -->
    <section class="mapa-entidad">
      <h1>Cl√≠nicas de Cat√©ter y Tasas de Enfermeras por Estado (2025)</h1>

      <p class="bienvenida">
        Explore la localizaci√≥n de cl√≠nicas de cat√©ter superpuesta sobre el mapa coropl√©tico de tasas de enfermeras por entidad federativa.
      </p>

      <!-- ==============================
           CONTROL DE M√âTRICA (componente reutilizable)
           ============================== -->
      <div id="control-indicador"></div>
      <script type="module">
        import { renderIndicadorControl } from "../scripts/componentes/indicador-control.js";
        renderIndicadorControl("#control-indicador", { defaultValue: "tasa_total" });
        // El mapa escucha #sel-metrica, no necesitas nada m√°s aqu√≠
      </script>

      <!-- CONTENEDOR DEL MAPA (los botones se inyectan por JS) -->
      <div id="mapa-clinicas" class="mapa-wrapper"></div>

      <!-- NOTA METODOL√ìGICA -->
      <p id="nota">
        <em>
          Nota: El mapa coropl√©tico usa la misma metodolog√≠a de tasas que la visualizaci√≥n nacional (cuartiles din√°micos por m√©trica).
          Las cl√≠nicas se muestran como puntos y su tooltip incluye CLUES, instituci√≥n y ubicaci√≥n. Datos consultados el
          <span id="fecha-consulta"></span>.
        </em>
      </p>

      <script>
        // Fecha din√°mica en la nota
        document.getElementById("fecha-consulta").textContent = new Date().toISOString().split("T")[0];
      </script>

      <!-- BOTONES DE DESCARGA DEL MAPA -->
      <div class="descarga-container">
        <button id="descargar-sin-etiquetas" class="boton">üó∫Ô∏è Descargar üó∫Ô∏è</button>
        <button id="descargar-con-etiquetas" class="boton">üìù Descargar üìù</button>
      </div>
    </section>

    <!-- (Opcional) SECCI√ìN DE TABLA RESUMEN -->
    <section class="tabla-republica" style="display:none;">
      <h2>Resumen por entidad</h2>
      <p>
        (Opcional) Si decides agregar una tabla de resumen, puedes reutilizar el mismo componente que en la p√°gina nacional.
      </p>
      <div class="tabla-scroll">
        <div id="tabla-contenido"></div>
      </div>
      <div class="descarga-container">
        <button id="descargar-excel" class="boton">üì• Descargar Excel</button>
      </div>
    </section>
  </main>
</body>
</html>
